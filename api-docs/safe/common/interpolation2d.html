


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Module: safe.common.interpolation2d &mdash; InaSAFE 1.0.1-final documentation</title>
    
    <link rel="stylesheet" href="../../../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Noticia+Text|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.1-final',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../../../_static/toggle_sections.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="InaSAFE 1.0.1-final documentation" href="../../../index.html" />
    <link rel="up" title="Package::safe.common" href="../common.html" />
    <link rel="next" title="Module: safe.common.test_numerics" href="test_numerics.html" />
    <link rel="prev" title="Module: safe.common.dynamic_translations" href="dynamic_translations.html" /> 
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="test_numerics.html" title="Module: safe.common.test_numerics"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="dynamic_translations.html" title="Module: safe.common.dynamic_translations"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../../index.html">Home</a> &raquo;</li>
    <li><a href="../../../contents.html">Contents</a> &raquo;</li>

          <li><a href="../../index.html" >InaSAFE&#8217;s API documentation</a> &raquo;</li>
          <li><a href="../../safe.html" >Package::safe</a> &raquo;</li>
          <li><a href="../common.html" accesskey="U">Package::safe.common</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-safe.common.interpolation2d">
<span id="module-safe-common-interpolation2d"></span><h1>Module:  safe.common.interpolation2d<a class="headerlink" href="#module-safe.common.interpolation2d" title="Permalink to this headline">¶</a></h1>
<p><strong>Module for 2D interpolation over a rectangular mesh</strong></p>
<p>This module:</p>
<ul class="simple">
<li>provides piecewise constant (nearest neighbour) and bilinear interpolation</li>
<li>is fast (based on numpy vector operations)</li>
<li>depends only on numpy</li>
<li>guarantees that interpolated values never exceed the four nearest neighbours</li>
<li>handles missing values in domain sensibly using NaN</li>
<li>is unit tested with a range of common and corner cases</li>
</ul>
<p>See end of this file for documentation of the mathematical derivation used.</p>
<dl class="function">
<dt id="safe.common.interpolation2d.check_inputs">
<tt class="descclassname">safe.common.interpolation2d.</tt><tt class="descname">check_inputs</tt><big>(</big><em>x</em>, <em>y</em>, <em>Z</em>, <em>points</em>, <em>mode</em>, <em>bounds_error</em><big>)</big><a class="reference internal" href="../../../_modules/safe/common/interpolation2d.html#check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#safe.common.interpolation2d.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Check inputs for interpolate2d function</p>
</dd></dl>

<dl class="function">
<dt id="safe.common.interpolation2d.interpolate2d">
<tt class="descclassname">safe.common.interpolation2d.</tt><tt class="descname">interpolate2d</tt><big>(</big><em>x</em>, <em>y</em>, <em>Z</em>, <em>points</em>, <em>mode='linear'</em>, <em>bounds_error=False</em><big>)</big><a class="reference internal" href="../../../_modules/safe/common/interpolation2d.html#interpolate2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#safe.common.interpolation2d.interpolate2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Fundamental 2D interpolation routine</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last">
<li><p class="first">x: 1D array of x-coordinates of the mesh on which to interpolate</p>
</li>
<li><p class="first">y: 1D array of y-coordinates of the mesh on which to interpolate</p>
</li>
<li><p class="first">Z: 2D array of values for each x, y pair</p>
</li>
<li><p class="first">points: Nx2 array of coordinates where interpolated values are sought</p>
</li>
<li><p class="first">mode: Determines the interpolation order. Options are</p>
<blockquote>
<div><ul>
<li><p class="first">&#8216;constant&#8217; - piecewise constant nearest neighbour interpolation</p>
</li>
<li><dl class="first docutils">
<dt>&#8216;linear&#8217; - bilinear interpolation using the four</dt>
<dd><p class="first last">nearest neighbours (default)</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>bounds_error: Boolean flag. If True (default) a BoundsError exception</dt>
<dd><p class="first last">will be raised when interpolated values are requested
outside the domain of the input data. If False, nan
is returned for those values</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Returns:</dt>
<dd><ul class="first last simple">
<li>1D array with same length as points with interpolated values</li>
</ul>
</dd>
</dl>
<p>Raises: Exception, BoundsError (see note about bounds_error)</p>
<dl class="docutils">
<dt>Notes:</dt>
<dd><p class="first">Input coordinates x and y are assumed to be monotonically increasing,
but need not be equidistantly spaced. No such assumption regarding
ordering of points is made.</p>
<p>Z is assumed to have dimension M x N, where M = len(x) and N = len(y).
In other words it is assumed that the x values follow the first
(vertical) axis downwards and y values the second (horizontal) axis
from left to right.</p>
<p class="last">If this routine is to be used for interpolation of raster grids where
data is typically organised with longitudes (x) going from left to
right and latitudes (y) from left to right then user
interpolate_raster in this module</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="safe.common.interpolation2d.interpolate_raster">
<tt class="descclassname">safe.common.interpolation2d.</tt><tt class="descname">interpolate_raster</tt><big>(</big><em>x</em>, <em>y</em>, <em>Z</em>, <em>points</em>, <em>mode='linear'</em>, <em>bounds_error=False</em><big>)</big><a class="reference internal" href="../../../_modules/safe/common/interpolation2d.html#interpolate_raster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#safe.common.interpolation2d.interpolate_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>2D interpolation of raster data</p>
<p>It is assumed that data is organised in matrix Z as latitudes from
bottom up along the first dimension and longitudes from west to east
along the second dimension.</p>
<p>Further it is assumed that x is the vector of longitudes and y the
vector of latitudes.</p>
<p>See interpolate2d for details of the interpolation routine</p>
</dd></dl>

<p>This module forms part of the <a class="reference external" href="http://inasafe.org">InaSAFE</a> tool.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../../contents.html">
          <img class="logo" src="../../../_static/icon.png" alt="Logo"/>
        </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="dynamic_translations.html"
                        title="previous chapter">Module:  safe.common.dynamic_translations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="test_numerics.html"
                        title="next chapter">Module:  safe.common.test_numerics</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/api-docs/safe/common/interpolation2d.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="test_numerics.html" title="Module: safe.common.test_numerics"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="dynamic_translations.html" title="Module: safe.common.dynamic_translations"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../../index.html">Home</a> &raquo;</li>
    <li><a href="../../../contents.html">Contents</a> &raquo;</li>

          <li><a href="../../index.html" >InaSAFE&#8217;s API documentation</a> &raquo;</li>
          <li><a href="../../safe.html" >Package::safe</a> &raquo;</li>
          <li><a href="../common.html" >Package::safe.common</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2012, BNPB/AIFDR/GFDRR.
      Last updated on Feb 26, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
    <!-- cloud_sptheme 1.3 -->
  </body>
</html>