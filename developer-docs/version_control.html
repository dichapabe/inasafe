


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Version Control &mdash; InaSAFE 1.0.1-final documentation</title>
    
    <link rel="stylesheet" href="../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Noticia+Text|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.1-final',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/toggle_sections.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="InaSAFE 1.0.1-final documentation" href="../index.html" />
    <link rel="up" title="InaSAFE developer documentation" href="index.html" />
    <link rel="next" title="Maintaining the documentation" href="maintaining_documentation.html" />
    <link rel="prev" title="Internationalisation Support" href="i18n.html" /> 
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="maintaining_documentation.html" title="Maintaining the documentation"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="i18n.html" title="Internationalisation Support"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &raquo;</li>
    <li><a href="../contents.html">Contents</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">InaSAFE developer documentation</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="version-control">
<h1>Version Control<a class="headerlink" href="#version-control" title="Permalink to this headline">¶</a></h1>
<p>We are using git for version control. You can find all the latest source code
here: <a class="reference external" href="https://github.com/AIFDR/inasafe">https://github.com/AIFDR/inasafe</a></p>
<div class="section" id="branching-guide">
<h2>Branching guide<a class="headerlink" href="#branching-guide" title="Permalink to this headline">¶</a></h2>
<p>InaSAFE follows the following simple branching model:</p>
<div class="figure align-center">
<img alt="../_images/release-workflow.png" src="../_images/release-workflow.png" />
</div>
<p><em>New development</em> takes place in <em>master</em>. Master should always be maintained
in a usable state with tests passing and the code functional as far as possible
such that we can create a new release from master at short notice.</p>
<p><em>Releases</em> should take place in long lived branches named after the minor
version number (we follow the <a class="reference external" href="http://semver.org/">semantic versioning scheme</a>) so for example the first
release would be version 0.1 and would be in a branch from master called <em>release_0-1</em>.</p>
<p>After the minor release branch is made, the <em>point releases (patch)</em> are created as tags
off that branch. For example the release flow for version 0.1.0  would be:</p>
<ul class="simple">
<li>branch release_0.1 from master</li>
<li>apply any final polishing the the relase_0-1 branch</li>
<li>when we are ready to release, tag the branch as release_0-1-0</li>
<li>create packages from a checkout of the tag</li>
</ul>
<p>After the release, development should take place in master. Additional short lived
branches can be made off master while new features are worked on, and then merged into
master when they are ready.</p>
<p>Optionally, development can also be carried out in independent forks of the inasafe
repository and then merged into master when they are ready via a pull request or patch.</p>
<p>Commits to master that constitute bug fixes to existing features should be backported to
the current release branch using the <tt class="samp docutils literal"><span class="pre">git</span> <span class="pre">cherry-pick</span></tt> command. Alternatively, if
a fix is made in the release branch, the changeset should be applied to master where
appropriate in order to ensure that master includes all bug fixes from the release branches.</p>
</div>
<div class="section" id="process-for-developers-adding-a-new-feature">
<h2>Process for developers adding a new feature<a class="headerlink" href="#process-for-developers-adding-a-new-feature" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Create a feature branch</dt>
<dd><ul class="first last simple">
<li>git checkout -b &lt;featurebranch&gt; master</li>
</ul>
</dd>
<dt>Write new code and tests</dt>
<dd>...</dd>
<dt>Publish (if unfinished)</dt>
<dd><ul class="first last simple">
<li>git commit -a -m &#8220;I did something wonderful&#8221;</li>
<li>git push origin &lt;featurebranch&gt;</li>
</ul>
</dd>
</dl>
<p>To keep branch up to date:</p>
<blockquote>
<div><ul class="simple">
<li>git checkout &lt;featurebranch&gt;</li>
<li>git merge origin master</li>
<li>(possibly resolve conflict and verify test suite runs)</li>
<li>git push origin &lt;featurebranch&gt;</li>
</ul>
</div></blockquote>
<p>When all tests pass, either merge into master</p>
<blockquote>
<div><ul class="simple">
<li>git checkout master</li>
<li>git merge &#8211;no-ff &lt;featurebranch&gt;
(possibly resolve conflict and verify test suite runs)</li>
<li>git push origin master</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>Or issue a pull request through github</dt>
<dd></dd>
</dl>
<p>To delete when branch is no longer needed (though it is preferable to do
such work in a fork of the official repo).</p>
<blockquote>
<div><ul class="simple">
<li>git push origin :&lt;featurebranch&gt;</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="process-for-checking-out-the-release-branch-and-applying-a-fix">
<h2>Process for checking out the release branch and applying a fix:<a class="headerlink" href="#process-for-checking-out-the-release-branch-and-applying-a-fix" title="Permalink to this headline">¶</a></h2>
<p>Create a local <a class="reference external" href="http://book.git-scm.com/4_tracking_branches.html">tracking branch</a>:</p>
<div class="highlight-python"><pre>git fetch
git branch --track release-0_1 origin/release-0_1
git checkout release-0_1</pre>
</div>
<p>Now apply your fix, test and commit:</p>
<div class="highlight-python"><pre>git commit -m "Fix issue #22 - results do not display"
git push</pre>
</div>
<p>To backport the fix to master do (you should test after cherry picking and
before pushing though):</p>
<div class="highlight-python"><pre>git checkout master
git cherry-pick 0fh12
git push</pre>
</div>
</div>
<div class="section" id="to-checkout-someone-else-s-fork">
<h2>To checkout someone else&#8217;s fork:<a class="headerlink" href="#to-checkout-someone-else-s-fork" title="Permalink to this headline">¶</a></h2>
<p>Example:</p>
<div class="highlight-python"><pre>git remote add jeff git://githup.com/jj0hns0n/riab.git
git remote update
git checkout -b impact_map jeff/impact_map</pre>
</div>
</div>
<div class="section" id="windows-specific-notes">
<h2>Windows Specific Notes:<a class="headerlink" href="#windows-specific-notes" title="Permalink to this headline">¶</a></h2>
<p>To Switch branches using TortioiseGIT:</p>
<ul class="simple">
<li>Navigate to the inasafe plugin folder</li>
<li>Right click on any whitespace</li>
<li>From the context menu choose TortoiseGIT-&gt;Switch/Checkout</li>
<li>Tick &#8216;Branch radio button and choose &#8216;master&#8217; from the list</li>
<li>Click ok</li>
</ul>
<p>To update the master branch:</p>
<ul class="simple">
<li>Right click on the whitespace again</li>
<li>TortoiseGIT-&gt;Pull from the context menu</li>
<li>Tick the remote radio</li>
<li>Set remote to origin</li>
<li>Tick the ellipses button next to &#8216;Remote Branch&#8217;</li>
<li>Choose &#8216;master&#8217; from the list</li>
<li>Click OK</li>
</ul>
<p>For subsequent pull requests on that branch you can just do TortoiseGIT-&gt;Pull
from the context menu and press ok</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../contents.html">
          <img class="logo" src="../_static/icon.png" alt="Logo"/>
        </a></p>
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Version Control</a><ul>
<li><a class="reference internal" href="#branching-guide">Branching guide</a></li>
<li><a class="reference internal" href="#process-for-developers-adding-a-new-feature">Process for developers adding a new feature</a></li>
<li><a class="reference internal" href="#process-for-checking-out-the-release-branch-and-applying-a-fix">Process for checking out the release branch and applying a fix:</a></li>
<li><a class="reference internal" href="#to-checkout-someone-else-s-fork">To checkout someone else&#8217;s fork:</a></li>
<li><a class="reference internal" href="#windows-specific-notes">Windows Specific Notes:</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="i18n.html"
                        title="previous chapter">Internationalisation Support</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="maintaining_documentation.html"
                        title="next chapter">Maintaining the documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/developer-docs/version_control.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="maintaining_documentation.html" title="Maintaining the documentation"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="i18n.html" title="Internationalisation Support"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &raquo;</li>
    <li><a href="../contents.html">Contents</a> &raquo;</li>

          <li><a href="index.html" >InaSAFE developer documentation</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2012, BNPB/AIFDR/GFDRR.
      Last updated on Feb 25, 2013.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
    <!-- cloud_sptheme 1.3 -->
  </body>
</html>